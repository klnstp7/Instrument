@{
    ViewBag.Title = "PermissionTreePage";
    Layout = "~/Views/Shared/_LayoutTree.cshtml";
}

<script type="text/javascript" language="javascript" >
        $(document).ready(function () {
            iniTree();
           
            function iniTree() { 
                tree = new dhtmlXTreeObject("treeboxbox_tree", "100%", "100%", 0);
                tree.setImagePath("@Url.Content("~/Content/themes/base/images/csh_scbrblue/")");                
                tree.setOnClickHandler(func_click);
                tree.enableSmartXMLParsing(true);
                tree.loadXML("/SysManage/Permission/LoadPermission4dhtmlxTree?ajax=true&roleId=0");
            }

            function func_click() {
                var url = "/SysManage/Permission/Details";
                var permId = tree.getSelectedItemId();
                var param = "?permId=" + permId;
                window.parent.frames["mainFrame"].document.location.href = url + param;
            }   

        });
    </script>
<div id="treeboxbox_tree" style="width:250; height:218;background-color:#f5f5f5;border :1px solid Silver; overflow:auto;"/>   

